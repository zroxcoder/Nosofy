<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notes | Nosofy</title>

<link rel="icon" href="../assets/N.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="../styles/notes.css">

</head>
<body>

<div id="sidebar">
        <h3>NOSOFY</h3>
        <a class="nav-link" href="dashboard.html">üè† Dashboard</a>
        <a class="nav-link active" href="notes.html">üìù Notes</a>
        <a class="nav-link" href="planner.html">üìÖ Planner</a>
        <a class="nav-link" href="projects.html">üóÇÔ∏è Projects</a>
        <a class="nav-link" href="courses.html">üìí Courses</a>
        <a class="nav-link" href="expenses.html">üí∞ Expenses</a>
        <a class="nav-link" href="passwords.html">üîê Vault</a>
        <a class="nav-link" href="cloudhub.html">‚òÅÔ∏è Cloud Hub</a>
        <a class="nav-link" href="chatbot.html">üëæ Chat Bot</a>
        <a class="nav-link" href="profile.html">‚öôÔ∏è Profile</a>
</div>

<div class="content">
    <h2 class="section-title">Your Notes & Bookmarks</h2>
    
    <div class="stats-bar">
        <div class="stat-box"><i class="bi bi-journal-text"></i> Notes: <span id="noteCount">0</span></div>
        <div class="stat-box"><i class="bi bi-link-45deg"></i> Bookmarks: <span id="bookmarkCount">0</span></div>
        <div class="stat-box"><i class="bi bi-pin-angle-fill"></i> Pinned: <span id="pinnedCount">0</span></div>
        <div class="stat-box"><i class="bi bi-archive-fill"></i> Archived: <span id="archivedCount">0</span></div>
    </div>
    
    <div class="toolbar">
        <input type="text" id="searchBox" placeholder="üîç Search notes by title, content or tags..." oninput="loadNotes()">
        
        <select id="filterType" onchange="loadNotes()">
            <option value="all">All Types</option>
            <option value="note"><i class="bi bi-journal-text"></i> Notes Only</option>
            <option value="bookmark"><i class="bi bi-link-45deg"></i> Bookmarks Only</option>
        </select>
        
        <select id="sortBy" onchange="loadNotes()">
            <option value="date-desc">Latest First</option>
            <option value="date-asc">Oldest First</option>
            <option value="title-asc">Title A-Z</option>
            <option value="title-desc">Title Z-A</option>
            <option value="color">By Color</option>
        </select>
        
        <select id="viewMode" onchange="toggleViewMode()">
            <option value="grid"><i class="bi bi-grid-3x3-gap"></i> Grid View</option>
            <option value="list"><i class="bi bi-list-ul"></i> List View</option>
        </select>
        
        <button onclick="toggleArchiveView()">
            <span id="archiveViewText"><i class="bi bi-archive"></i> Show Archived</span>
        </button>
        
        <button onclick="clearAllFilters()"><i class="bi bi-arrow-clockwise"></i> Reset Filters</button>
    </div>
    
    <div class="color-filters" id="colorFilters">
        <span><i class="bi bi-palette"></i> Filter by color:</span>
        <div class="color-filter-dot" style="background:#ffe0c2;" onclick="filterByColor('default')" data-color="default" title="Default"></div>
        <div class="color-filter-dot" style="background:#f28b82;" onclick="filterByColor('coral')" data-color="coral" title="Coral"></div>
        <div class="color-filter-dot" style="background:#fbbc04;" onclick="filterByColor('peach')" data-color="peach" title="Peach"></div>
        <div class="color-filter-dot" style="background:#fff475;" onclick="filterByColor('sand')" data-color="sand" title="Sand"></div>
        <div class="color-filter-dot" style="background:#ccff90;" onclick="filterByColor('mint')" data-color="mint" title="Mint"></div>
        <div class="color-filter-dot" style="background:#a7ffeb;" onclick="filterByColor('sage')" data-color="sage" title="Sage"></div>
        <div class="color-filter-dot" style="background:#cbf0f8;" onclick="filterByColor('fog')" data-color="fog" title="Fog"></div>
        <div class="color-filter-dot" style="background:#aecbfa;" onclick="filterByColor('storm')" data-color="storm" title="Storm"></div>
        <div class="color-filter-dot" style="background:#d7aefb;" onclick="filterByColor('dusk')" data-color="dusk" title="Dusk"></div>
        <div class="color-filter-dot" style="background:#fdcfe8;" onclick="filterByColor('blossom')" data-color="blossom" title="Blossom"></div>
        <div class="color-filter-dot" style="background:#e6c9a8;" onclick="filterByColor('clay')" data-color="clay" title="Clay"></div>
        <div class="color-filter-dot" style="background:#e8eaed;" onclick="filterByColor('chalk')" data-color="chalk" title="Chalk"></div>
    </div>
    
    <div class="filter-tags" id="tagFilters"></div>
    
    <div class="notes-grid" id="notesList"></div>
</div>

<button class="add-btn" onclick="openModal()" title="Add New Note">+</button>

<button class="secondary-btn" id="archiveBtn" onclick="openArchiveModal()" title="View Archive"><i class="bi bi-archive"></i></button>
<button class="secondary-btn" id="exportBtn" onclick="openImportExportModal()" title="Import/Export"><i class="bi bi-download"></i></button>

<div id="noteModal" class="modal">
    <div class="modal-content" id="modalContent">
        <h3 id="modalTitle">Add Note / Bookmark</h3>
        <select id="type">
            <option value="note"><i class="bi bi-journal-text"></i> Note</option>
            <option value="bookmark"><i class="bi bi-link-45deg"></i> Bookmark</option>
        </select>
        <input id="title" type="text" placeholder="Title">
        <textarea id="content" placeholder="Content / URL if bookmark"></textarea>
        <input id="tags" type="text" placeholder="Tags (comma separated)">
        
        <div class="color-picker-section">
            <label><i class="bi bi-palette-fill"></i> Choose Note Color:</label>
            <div class="color-palette" id="colorPalette">
                <div class="color-option selected" data-color="default" style="background:#ffe0c2;" title="Default" onclick="selectColor('default')"></div>
                <div class="color-option" data-color="coral" style="background:#f28b82;" title="Coral" onclick="selectColor('coral')"></div>
                <div class="color-option" data-color="peach" style="background:#fbbc04;" title="Peach" onclick="selectColor('peach')"></div>
                <div class="color-option" data-color="sand" style="background:#fff475;" title="Sand" onclick="selectColor('sand')"></div>
                <div class="color-option" data-color="mint" style="background:#ccff90;" title="Mint" onclick="selectColor('mint')"></div>
                <div class="color-option" data-color="sage" style="background:#a7ffeb;" title="Sage" onclick="selectColor('sage')"></div>
                <div class="color-option" data-color="fog" style="background:#cbf0f8;" title="Fog" onclick="selectColor('fog')"></div>
                <div class="color-option" data-color="storm" style="background:#aecbfa;" title="Storm" onclick="selectColor('storm')"></div>
                <div class="color-option light-text" data-color="dusk" style="background:#d7aefb;" title="Dusk" onclick="selectColor('dusk')"></div>
                <div class="color-option" data-color="blossom" style="background:#fdcfe8;" title="Blossom" onclick="selectColor('blossom')"></div>
                <div class="color-option" data-color="clay" style="background:#e6c9a8;" title="Clay" onclick="selectColor('clay')"></div>
                <div class="color-option" data-color="chalk" style="background:#e8eaed;" title="Chalk" onclick="selectColor('chalk')"></div>
                <div class="color-option" data-color="white" style="background:#ffffff;border:1px solid #ddd;" title="White" onclick="selectColor('white')"></div>
            </div>
        </div>
        
        <div>
            <button onclick="saveNote()"><i class="bi bi-save"></i> Save</button>
            <button onclick="closeModal()"><i class="bi bi-x-circle"></i> Cancel</button>
        </div>
    </div>
</div>

<div id="importExportModal" class="modal">
    <div class="modal-content">
        <h3>Import / Export Notes</h3>
        <h4>Export Notes</h4>
        <button onclick="exportNotes()"><i class="bi bi-download"></i> Export All Notes (JSON)</button>
        <button onclick="exportNotesText()"><i class="bi bi-file-text"></i> Export as Text</button>
        
        <h4 style="margin-top:20px;">Import Notes</h4>
        <input type="file" id="importFile" accept=".json" style="margin-bottom:10px;">
        <button onclick="importNotes()"><i class="bi bi-upload"></i> Import from JSON</button>
        
        <h4 style="margin-top:20px;">Preview</h4>
        <div class="import-export-area" id="exportPreview">Export data will appear here...</div>
        
        <div style="margin-top:15px;">
            <button onclick="closeImportExportModal()">Close</button>
        </div>
    </div>
</div>

<div id="archiveModal" class="modal">
    <div class="modal-content">
        <h3><i class="bi bi-archive-fill"></i> Archived Notes</h3>
        <div id="archiveList" style="max-height:400px;overflow-y:auto;"></div>
        <div style="margin-top:15px;">
            <button onclick="closeArchiveModal()">Close</button>
        </div>
    </div>
</div>

<div id="viewNoteModal" class="modal">
    <div class="modal-content" id="viewModalContent">
        <h3 id="viewNoteTitle"></h3>
        <div class="type-badge" id="viewNoteType"></div>
        <div id="viewNoteContent" style="background:rgba(255,255,255,0.6);padding:15px;border-radius:8px;margin:10px 0;min-height:100px;"></div>
        <p><strong>Tags:</strong> <span id="viewNoteTags"></span></p>
        <p><strong>Created:</strong> <span id="viewNoteTime"></span></p>
        <div style="margin-top:15px;">
            <button onclick="closeViewModal()">Close</button>
        </div>
    </div>
</div>

<div id="toast" class="toast"></div>

<script src="../script/notes.js"></script>
</body>
</html>